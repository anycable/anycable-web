<!-- Code is generated by Code to Markup. Go there if you want to update it: https://psd-coder.github.io/code-to-markup/?h=shiki&t=github-dark-high-contrast&l=javascript# -->
<pre class="shiki github-dark-high-contrast" style="background-color:#0a0c10;color:#f0f3f6" tabindex="0"><code style="padding:1em;overflow-x: auto;"><span class="line"><span style="color:#FF9492">export</span><span style="color:#FF9492"> class</span><span style="color:#FFB757"> ChatChannel</span><span style="color:#FF9492"> extends</span><span style="color:#91CBFF"> Channel</span><span style="color:#F0F3F6"> {</span></span>
<span class="line"><span style="color:#FF9492">  async</span><span style="color:#DBB7FF"> speak</span><span style="color:#F0F3F6">(</span><span style="color:#FFB757">handle</span><span style="color:#F0F3F6">, </span><span style="color:#FFB757">params</span><span style="color:#F0F3F6">, </span><span style="color:#FFB757">data</span><span style="color:#F0F3F6">) {</span></span>
<span class="line"><span style="color:#FF9492">    const</span><span style="color:#F0F3F6"> { </span><span style="color:#91CBFF">message</span><span style="color:#F0F3F6"> } </span><span style="color:#FF9492">=</span><span style="color:#F0F3F6"> data;</span></span>
<span class="line"><span style="color:#FF9492">    const</span><span style="color:#91CBFF"> name</span><span style="color:#FF9492"> =</span><span style="color:#F0F3F6"> handle.identifiers.username;</span></span>
<span class="line"><span style="color:#FF9492">    const</span><span style="color:#91CBFF"> payload</span><span style="color:#FF9492"> =</span><span style="color:#F0F3F6"> {</span></span>
<span class="line"><span style="color:#F0F3F6">      event: </span><span style="color:#ADDCFF">"newMessage"</span><span style="color:#F0F3F6">,</span></span>
<span class="line"><span style="color:#F0F3F6">      name,</span></span>
<span class="line"><span style="color:#F0F3F6">      message,</span></span>
<span class="line"><span style="color:#F0F3F6">    };</span></span>
<span class="line"><span style="color:#F0F3F6">   </span></span>
<span class="line"><span style="color:#FF9492">    await</span><span style="color:#DBB7FF"> broadcastTo</span><span style="color:#F0F3F6">(</span><span style="color:#ADDCFF">`roomId:${</span><span style="color:#F0F3F6">params</span><span style="color:#ADDCFF">.</span><span style="color:#F0F3F6">id</span><span style="color:#ADDCFF">}`</span><span style="color:#F0F3F6">, payload);</span></span>
<span class="line"><span style="color:#F0F3F6">  }</span></span>
<span class="line"><span style="color:#F0F3F6">}</span></span>
<span class="line"></span></code></pre>
